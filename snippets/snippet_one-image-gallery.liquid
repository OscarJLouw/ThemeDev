<style>
  .custom-content-wrapper--{{ block.id }} .custom-content__section-header  {
    color: {{ block.settings.heading_color }};
  }

  {% if block.settings.background_color != blank %}
    .custom-content-wrapper--{{ block.id }} {
      background-color: {{ block.settings.background_color }};
    }
  {% endif %}
  
  {% if block.settings.width != blank %}
  .custom__item-inner--{{ block.id }}{
    max-width: {{ block.settings.width | append: 'px' }};
    margin:auto;
  }
  {% endif %}
</style>

<div class="custom-content-wrapper custom-content-wrapper--{{ block.id }} {% if block.settings.top_margin %}custom-content-wrapper--top-margin{% endif %} {% if block.settings.bottom_margin %}custom-content-wrapper--bottom-margin{% endif %} one-whole" data-section-id="{{ block.id }}" data-section-type="custom-content">
  <div class="page-width">
    <div class="custom-content">
      {%- assign block_width = 'one-whole' -%}
      <div class="custom__item custom__item--{{ block.id }} small--one-whole {{ block_width }} {% if block.settings.alignment1 %}align--{{ block.settings.alignment1 }}{% endif %}" {{ block.shopify_attributes }}>
        <div class="custom__item-inner custom__item-inner--{{ block.id }}">
          {% if block.settings.image1 != blank %}
          <div class="custom__block-image-container" style="padding-top:{{ 1 | divided_by: block.settings.image1.aspect_ratio | times: 100}}%">
            {% assign img_url = block.settings.image1 | img_url: '1x1' | replace: '_1x1.', '_{width}x.' %}
            <img class="custom__block-image lazyload"
                 data-src="{{ img_url }}"
                 data-widths="[180, 360, 540, 720, 900, 1080, 1296, 1512, 1728, 2048]"
                 data-aspectratio="{{ block.settings.image1.aspect_ratio }}"
                 data-sizes="auto"
                 alt="{{ block.settings.image1.alt | escape }}">

            <noscript>
              <img src="{{ block.settings.image1 | img_url: '1024x1024' }}" alt="{{ block.settings.image1.alt | escape }}" class="custom__block-image">
            </noscript>
          </div>
          {% else %}
          {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
          {% endif %}
        </div>
      </div>
      
      {%- assign block_width = 'one-whole' -%}
      
      <div class="custom__item custom__item--{{ block.id }} small--one-whole {{ block_width }} {% if block.settings.alignment2 %}align--{{ block.settings.alignment2 }}{% endif %}" {{ block.shopify_attributes }}>
        <div class="custom__item-inner custom__item-inner--{{ block.id }}">
          <style>
            .custom-content-wrapper--{{ block.id }} .custom__item--{{ block.id }} .custom__block-heading-text {
              color: {{ block.settings.heading_color }};
            }

            .custom-content-wrapper--{{ block.id }} .custom__item--{{ block.id }} .custom__block-body-text {
              color: {{ block.settings.paragraph_color }};
              font-size: {{ block.settings.paragraph_size | append: 'em' }};
            }
          </style>

          <div class="text-{{ block.settings.align_text }}">
            
            {% if block.settings.paragraph_text != blank %}
            <div class="custom__block-body-text rte-setting">{{ block.settings.paragraph_text }}</div>
            {% endif %}
            {% if block.settings.heading_text != blank %}
            <div class="rte-setting mega-subtitle mega-subtitle--photographer">{{ block.settings.heading_text | escape }}</div>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>